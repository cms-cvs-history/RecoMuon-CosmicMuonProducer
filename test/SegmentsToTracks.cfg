process MuonSToT = {
    
    service = Timing {}

    service = MessageLogger 
    {
     untracked vstring destinations   = { "debugmessages.txt" }
     untracked vstring categories     = { "CosmicMuonTrajectoryBuilder" }
     untracked vstring debugModules   = { "*" }
     untracked PSet debugmessages.txt = {
           untracked string threshold = "DEBUG"
           untracked PSet INFO = { untracked int32 limit = 0 }
           untracked PSet DEBUG = { untracked int32 limit = 0 }
	   untracked PSet CosmicMuonTrajectoryBuilder = { untracked int32 limit = 10000000}
     } 
    }

    source = PoolSource{
      untracked vstring fileNames ={"file:cosSegs.root"}
      untracked int32 maxEvents = -1
    }

   include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"

   #Magnetic Field
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   # CSC
   include "Geometry/CSCGeometry/data/cscGeometry.cfi"
   # DT
   include "Geometry/DTGeometry/data/dtGeometry.cfi"

   ## Geometry
   include "Geometry/CommonDetUnit/data/globalTrackingGeometry.cfi"

   es_module = MuonDetLayerGeometryESProducer { }

   ## Propagator
   include "TrackPropagation/SteppingHelixPropagator/data/SteppingHelixPropagatorAny.cfi"

   ## Cosmic Reco
   include "RecoMuon/MuonSeedGenerator/data/CosmicMuonSeedProducer.cfi"
   include "RecoMuon/CosmicMuonProducer/data/CosmicMuonProducer.cfi"

   # Output module
   #
   module output = PoolOutputModule
   {
      untracked string fileName = "cosTracks.root"
   }
   # Now order modules for execution
   #

   path p1 = {CosmicMuonSeed, CosmicMuon}
   endpath outpath = { output }

}
