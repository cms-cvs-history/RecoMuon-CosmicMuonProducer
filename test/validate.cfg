process v =  {

  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  service = AdaptorConfig {}

  source = PoolSource {
    untracked int32 maxEvents = -1
    untracked vstring fileNames = { "file:cosTracks.root" }
  }

  include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"

  #Magnetic Field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  include "Geometry/CSCGeometry/data/cscGeometry.cfi"
  include "Geometry/DTGeometry/data/dtGeometry.cfi"
  include "Geometry/RPCGeometry/data/rpcGeometry.cfi"

  ## Geometry
  include "Geometry/CommonDetUnit/data/globalTrackingGeometry.cfi"

  es_module = MuonDetLayerGeometryESProducer { }

  include "RecoMuon/TrackingTools/data/MuonServiceProxy.cff"

  module analysis = CosmicMuonValidator {
   InputTag TrackLabel = cosmicMuons
   InputTag SimTrackLabel = g4SimHits 
   string OutputFile = "validator.root"
   using MuonServiceProxy

  } 

  path p = { analysis }
}
